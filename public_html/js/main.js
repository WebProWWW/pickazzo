/*!
 * @author Timur Valiyev
 * @link https://webprowww.github.io
 */
"use strict";function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var r=0;r<e.length;r++){var a=e[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,r){return e&&_defineProperties(t.prototype,e),r&&_defineProperties(t,r),t}(function(){var r,a,s;!function(){var i=window.jQuery,a={method:"post",loaderImg:'<img class="loader-img" src="/img/loader-white.svg">',emailRegex:/^[-a-z0-9~!$%^&*_=+}{\'?]+(\.[-a-z0-9~!$%^&*_=+}{\'?]+)*@([a-z0-9_][-a-z0-9_]*(\.[-a-z0-9_]+)*\.(aero|arpa|biz|com|coop|edu|gov|info|int|mil|museum|name|net|org|pro|travel|mobi|[a-z][a-z])|([0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}))(:[0-9]{1,5})?$/i},o=function(){var t=function(){function r(t,e){_classCallCheck(this,r),this.onFormSubmit=this.onFormSubmit.bind(this),this.options=e,this.$form=i(t),this.id=this.$form.attr("id"),this.$form.on("submit",this.onFormSubmit)}return _createClass(r,[{key:"onFormSubmit",value:function(t){return t.preventDefault(),this.validateInputs()&&this.sendForm(),!1}},{key:"validateInputs",value:function(){var n=this,t=this.$form.find("[data-validate]"),s=!0;return t.each(function(t,e){var r=i(e),a=r.attr("data-validate"),o=r.val();return function(){switch(a){case"text":return 0<o.length;case"email":return this.options.emailRegex.test(o);default:return!0}}.call(n)||(s=!1,r.addClass("error"),r.one("focusin",function(t){return i(t.target).removeClass("error")})),!0}),s}},{key:"addErrors",value:function(t){var e,r;for(e in t)r=t[e],this.$form.find("#".concat(e,"-error")).html('<span class="input-error">'.concat(r[0],"</span>")),this.$form.find("#".concat(e)).addClass("error").one("focusin change",function(t){var e=i(t.target);return e.removeClass("error"),i("#".concat(e.attr("id"),"-error")).html(""),!0});return!0}},{key:"sendForm",value:function(){var r=this,t=this.$form.find("[data-loader]");return this.backLoaderHtml=t.html(),t.html(this.options.loaderImg),i.ajax({method:"post",url:this.$form.attr("data-action"),data:this.$form.serialize()}).done(function(t){return null!=(null!=t?t.success:void 0)&&!0===t.success&&r.$form.trigger("ajax-done",[t]),null!=(null!=t?t.errors:void 0)&&"object"===_typeof(t.errors)&&(r.addErrors(t.errors),r.$form.trigger("ajax-error",[t])),!0}).fail(function(t,e){return r.$form.trigger("ajax-fail"),!0}).always(function(){return t.html(r.backLoaderHtml),r.$form.trigger("ajax-always"),!0}),!1}}]),r}();return t.prototype.backLoaderHtml="",t}.call(this);i.fn.extend({form:function(t){var r=0<arguments.length&&void 0!==t?t:{};return this.each(function(t,e){i(e);return new o(e,i.extend({},a,r)),!0})}})}(),s=function(t,e){var r=$(".js-cart"),a=$(".js-cart-count");return r.removeClass("d-none"),0===t&&r.addClass("d-none"),a.one("animationend",function(t){return $(this).removeClass("animate__heartBeat"),!0}),a.addClass("animate__heartBeat"),$(".js-cart-count").html(t),$(".js-cart-price").html(e),!0},$("#form-login").on("ajax-done",function(t,e){return window.location.reload(),!0}),$("#form-registr").on("ajax-done",function(t,e){return $.fancybox.close(!0),$.fancybox.open({src:"#register-success",type:"inline"}),!0}),$("#form-contrib").on("ajax-done",function(t,e){return $(this).trigger("reset"),$.fancybox.close(!0),$.fancybox.open({src:"#contrib-success",type:"inline"}),!0}),$("#form-product").on("ajax-done",function(t,e){var r,a,o=null!=(r=null!=e?e.totalPrice:void 0)?r:0,n=null!=(a=null!=e?e.productCount:void 0)?a:0;return $(this).addClass("d-none"),$(".js-to-cart").removeClass("d-none"),s(n,o),!0}),$(".js-form").form(),$("*[data-tab]").on("click",function(t){var e;return t.preventDefault(),(e=$(this)).siblings().each(function(t,e){var r=$(e);return r.removeClass("active"),$("".concat(r.attr("data-tab"))).addClass("d-none")}),e.addClass("active"),$("".concat(e.attr("data-tab"))).removeClass("d-none"),!1}),$("*[data-mask]").each(function(t,e){var r=$(e);return r.inputmask("".concat(r.attr("data-mask"))),!0}),$(".js-slider").slick({autoplay:!0,speed:300,arrows:!1,dots:!1,centerMode:!0,focusOnSelect:!0,slidesToShow:3,slidesToScroll:1,centerPadding:"0",mobileFirst:!0,infinite:!0,responsive:[{breakpoint:991,settings:{centerPadding:"170px"}},{breakpoint:1499,settings:{centerPadding:"199px"}}]}),$(".js-slider-view").each(function(t,e){var r=$(e),a=r.attr("data-nav");return r.slick({autoplay:!1,dots:!1,speed:300,lazyLoad:"ondemand",slidesToShow:1,slidesToScroll:1,arrows:!1,fade:!0,asNavFor:a,infinite:!0}),!0}),$(".js-slider-nav").each(function(t,e){var r=$(e),a=r.attr("data-view");return r.slick({infinite:!0,autoplay:!1,speed:300,slidesToShow:3,slidesToScroll:1,asNavFor:a,dots:!1,arrows:!1,centerMode:!0,focusOnSelect:!0}),!0}),$("*[data-toggle]").on("click",function(t){var e;return t.preventDefault(),e=$(this),$("".concat(e.attr("data-parent"))).toggleClass("toggle-active"),e.toggleClass("active"),$("".concat(e.attr("data-toggle"))).toggleClass("active"),!1}),r=$("#header-1"),a=$("#navbar-1"),$(window).on("scroll",function(t){var e=$(this).scrollTop();return 15<e?(r.addClass("onscroll"),a.addClass("onscroll")):e<15&&(r.removeClass("onscroll"),a.removeClass("onscroll")),!0})}).call(void 0);